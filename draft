resource "aws_autoscaling_policy" "autoscaling_policy_by_requests" {
  name                   = "autoscaling-policy-by-requests"
  autoscaling_group_name = aws_autoscaling_group.flask_app_autoscaling_group.name
  policy_type            = "TargetTrackingScaling"

  target_tracking_configuration {
    target_value = 4000

    predefined_metric_specification {
      predefined_metric_type = "ASGAverageNetworkOut"
      #resource_label         = "${aws_lb.flask_app_load_balancer.arn_suffix}/${aws_alb_target_group.flask_app_ec2_target_group.arn_suffix}"
    }
  }
}





